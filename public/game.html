<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Training Game - NeoTrace</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3ENeo%3C/text%3E%3C/svg%3E">
    <script defer src="vercel-insights/script.js"></script>
</head>
<body>
    <!-- Matrix Rain Canvas Background -->
    <canvas id="matrix-canvas"></canvas>

    <!-- Navigation - Frosted Glass Navbar -->
    <nav class="navbar">
        <a href="index.html" class="nav-logo">
            <img src="images/logo.png" alt="NeoTrace" class="logo-img">
            <span data-i18n="nav.logo">NeoTrace</span>
        </a>
        <ul class="nav-links">
            <li><a href="index.html" data-i18n="nav.dashboard">Dashboard</a></li>
            <li class="nav-dropdown active">
                <a href="#">Game</a>
                <div class="mega-menu game-mega">
                    <div class="mega-col">
                        <span class="mega-label">üéÆ Game Modes</span>
                        <a href="story.html" data-i18n="nav.story">Story Mode</a>
                        <a href="game.html" class="active" data-i18n="nav.game">Beginner Training</a>
                        <a href="game-intermediate.html">Crypto Challenge</a>
                    </div>
                </div>
            </li>
            <li class="nav-dropdown">
                <a href="#">For You</a>
                <div class="mega-menu foryou-mega">
                    <div class="mega-col">
                        <span class="mega-label">üõ†Ô∏è Tools</span>
                        <a href="phone-inspector.html" data-i18n="nav.phone">Phone Inspector</a>
                        <a href="url-threat-scanner.html" data-i18n="nav.url">URL Scanner</a>
                        <a href="image-forensics.html" data-i18n="nav.image">Image Forensics</a>
                        <a href="content-verifier.html" data-i18n="nav.text">Text Verifier</a>
                        <a href="password-checker.html" data-i18n="nav.password">Password Checker</a>
                        <a href="email-analyzer.html" data-i18n="nav.email">Email Analyzer</a>
                        <a href="wifi-scanner.html" data-i18n="nav.wifi">WiFi Scanner</a>
                        <a href="qr-scanner.html" data-i18n="nav.qr">QR Scanner</a>
                    </div>
                    <div class="mega-divider"></div>
                    <div class="mega-col">
                        <span class="mega-label">üìö Resources</span>
                        <a href="books.html">Books</a>
                        <a href="youtube-learning.html">YouTube Learning</a>
                        <a href="influencers.html">Influencers</a>
                        <a href="cyber-fundamentals.html">Fundamentals</a>
                    </div>
                    <div class="mega-divider"></div>
                    <div class="mega-col">
                        <span class="mega-label">üíº Career</span>
                        <a href="careers.html" data-i18n="nav.careers">Careers</a>
                        <a href="courses.html" data-i18n="nav.courses">Courses</a>
                        <a href="certifications.html" data-i18n="nav.certs">Certifications</a>
                    </div>
                </div>
            </li>
            <li><a href="about.html" data-i18n="nav.about">About</a></li>
        </ul>
        <div class="nav-right">
            <div class="lang-toggle">
                <button class="lang-btn active" data-lang="en">EN</button>
                <button class="lang-btn" data-lang="zh">‰∏≠Êñá</button>
            </div>
            <button class="theme-toggle" id="themeToggle" title="Toggle theme">üåô</button>
            <button class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <main class="main-content">
        <!-- Hero Section - Gamified Training Intro -->
        <section class="hero" style="padding-bottom: 1rem;">
            <div class="hero-badge">
                <span class="pulse-dot"></span>
                <span data-i18n="game.gamified">GAMIFIED TRAINING</span>
            </div>
            <h1 data-i18n="game.title">Cyber Detective Training</h1>
            <p data-i18n="game.subtitle">Test your scam detection skills</p>
        </section>

        <div class="game-layout">
            <!-- Main Game Area -->
            <div class="game-main">
                <!-- Game Header: Score, Difficulty -->
                <div class="game-header">
                    <div class="game-score">
                        <div class="score-item">
                            <div class="label" data-i18n="game.score">Score</div>
                            <div class="value" id="gameScore">0</div>
                        </div>
                        <div class="score-item">
                            <div class="label" data-i18n="game.streak">Streak</div>
                            <div class="value" id="gameStreak">0</div>
                        </div>
                        <div class="score-item">
                            <div class="label" data-i18n="game.best">Best</div>
                            <div class="value" id="gameBest">0</div>
                        </div>
                        <div class="score-item">
                            <div class="label" data-i18n="game.level">Level</div>
                            <div class="value" id="gameLevel">1/15</div>
                        </div>
                    </div>
                    <div class="difficulty-selector">
                        <button class="diff-btn tier-1 active" data-tier="1" data-i18n="game.easy">Easy</button>
                        <button class="diff-btn tier-2" data-tier="2" data-i18n="game.medium">Medium</button>
                        <button class="diff-btn tier-3" data-tier="3" data-i18n="game.hard">Hard</button>
                        <button class="diff-btn tier-4" data-tier="4" data-i18n="game.expert">Expert</button>
                        <button class="diff-btn tier-5" data-tier="5" data-i18n="game.ultimate">Ultimate</button>
                    </div>
                </div>

                <!-- Badge Display - Trainee rank with score on right -->
                <div class="badge-display" id="badgeDisplay">
                    <div class="badge-emoji" id="currentBadge">üßë‚Äçüéì</div>
                    <div class="badge-info">
                        <h4 id="currentRank" data-i18n="game.trainee">Trainee</h4>
                    </div>
                </div>
                <!-- Scenario Area - Game Content -->
                <div id="scenarioArea">
                    <div class="scenario-card" id="scenarioCard">
                        <!-- Scenario Badge -->
                        <div class="scenario-badge" id="scenarioBadge" style="background: rgba(0, 255, 65, 0.1); color: var(--accent-green);">PHISHING</div>
                        
                        <!-- NEW: Lightbulb Tip Toggle Button (Right of scenario title) -->
                        <button class="tip-toggle" id="tipToggle" title="Detection Tips">üí°</button>
                        
                        <h3 id="scenarioTitle" style="font-family: 'Orbitron'; font-size: 1.1rem; margin-bottom: 1rem;"></h3>
                        <div class="scenario-content" id="scenarioContent"></div>
                        <div class="answer-buttons" id="answerButtons"></div>
                        <div class="feedback-panel" id="feedbackPanel">
                            <div class="feedback-title" id="feedbackTitle"></div>
                            <p id="feedbackText" style="color: var(--text-secondary); margin-top: 0.5rem; line-height: 1.7;"></p>
                            <div style="margin-top: 1rem; display: flex; gap: 1rem;">
                                <button class="cyber-btn" id="nextBtn" onclick="nextScenario()" data-i18n="game.next">NEXT SCENARIO</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Game Over Screen -->
                <div id="gameOver" class="hidden">
                    <div class="scenario-card" style="text-align: center;">
                        <h2 style="font-family: 'Orbitron'; color: var(--accent-green); margin-bottom: 1rem;" data-i18n="game.trainingComplete">Training Complete!</h2>
                        <div style="font-size: 4rem; margin: 1rem 0;" id="finalBadge"></div>
                        <div style="font-family: 'Orbitron'; font-size: 2rem; color: var(--accent-cyan); margin-bottom: 0.5rem;" id="finalScore">0</div>
                        <div style="color: var(--text-secondary); margin-bottom: 2rem;" id="finalRank">Trainee</div>
                        <div class="input-group" style="max-width: 300px; margin: 0 auto 1rem;">
                            <input type="text" class="cyber-input" id="playerName" placeholder="Enter your name" data-i18n="game.yourName" maxlength="20">
                        </div>
                        <button class="cyber-btn btn-cyan" onclick="submitScore()" style="max-width: 300px; margin: 0 auto 1rem;" data-i18n="game.submit">SUBMIT SCORE</button>
                        <button class="cyber-btn" onclick="restartGame()" style="max-width: 300px; margin: 0 auto;" data-i18n="game.restart">RESTART</button>
                    </div>
                </div>
            </div>

            <!-- Game Sidebar - Leaderboard -->
            <div class="game-sidebar">
                <div class="tip-card">
                    <h3>üèÜ Leaderboard</h3>
                    <div id="leaderboardContainer">
                        <table class="leaderboard-table">
                            <thead>
                                <tr>
                                    <th data-i18n="game.rank">#</th>
                                    <th data-i18n="game.player">Player</th>
                                    <th data-i18n="game.playerScore">Score</th>
                                    <th data-i18n="game.badge">Badge</th>
                                </tr>
                            </thead>
                            <tbody id="leaderboardBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- NEW: Tips Modal - Click lightbulb to show/hide -->
    <div class="tips-modal" id="tipsModal">
        <div class="tips-modal-content">
            <button class="modal-close" id="modalClose">√ó</button>
            <h3 class="modal-title">üí° Detection Tips</h3>
            <ul class="tips-list">
                <li>üîó Always check the sender's actual email address</li>
                <li>‚è∞ Urgency & pressure = red flag</li>
                <li>üéÅ "Free" offers are rarely free</li>
                <li>üîí Legitimate companies never ask for passwords via email</li>
                <li>üìé Be cautious with unexpected attachments</li>
            </ul>
        </div>
    </div>

    <!-- NeoTrace Footer -->
    <footer class="neo-footer">
        <div class="neo-footer-inner">
            <div class="neo-footer-brand">
                <a href="index.html" class="footer-logo">
                    <img src="images/logo.png" alt="NeoTrace">
                    <span>NeoTrace</span>
                </a>
                <p class="footer-desc">AI-powered cybersecurity intelligence platform. Educating the next generation of digital defenders through interactive tools and real-time threat analysis.</p>
                <div class="neo-footer-social">
                    <a href="https://github.com/LouisLouis19/AI-Cyber-Detective-2.0" target="_blank" title="GitHub" aria-label="GitHub">
                        <!-- GitHub SVG icon -->
                    </a>
                </div>
            </div>
            <!-- Other footer columns... -->
        </div>
        <div class="neo-footer-divider"></div>
        <div class="neo-footer-bottom">
            <p>&copy; 2026 NeoTrace. All rights reserved.</p>
            <div class="neo-footer-bottom-right">
                <a href="#" class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'}); return false;">üìà Back to Top</a>
            </div>
        </div>
    </footer>

    <!-- NeoTrace AI Chatbot Toggle -->
    <button class="chatbot-toggle" id="chatbotToggle" title="NeoTrace AI Assistant">ü§ñ</button>
    <div class="chatbot-panel" id="chatbotPanel">
        <!-- Chatbot content... -->
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/main.js"></script>
    <script src="js/game.js"></script>
    <script src="js/chatbot.js"></script>

    <!-- NEW: Tips Modal JavaScript -->
    <script>
        // Lightbulb toggle functionality
        document.getElementById('tipToggle').addEventListener('click', function() {
            document.getElementById('tipsModal').classList.add('show');
        });

        document.getElementById('modalClose').addEventListener('click', function() {
            document.getElementById('tipsModal').classList.remove('show');
        });

        // Close modal when clicking background
        document.getElementById('tipsModal').addEventListener('click', function(e) {
            if (e.target.classList.contains('tips-modal')) {
                this.classList.remove('show');
            }
        });
    </script>
</body>
</html>
